# Программа для вычесления высот по картинке

## Функционал
Программа считывает высоты с картинки - карты барической топографии (карты высот местности).
Для этого необходимо дополнительно иметь картинку с вертикальным линейным градиентом высот и знать минимальное и максимальное значения высот.
Также стоит знать минимальное и максимольное значения компонентов RGB в градиенте.

## Использование
### Создание нового экземпляра
После подключения *.jar файла к проекту можно использовать класс HeightParser,
передав следующие параметры:
- fileSpector - путь до файла с градиентом;
- low - минимальное значение высоты;
- high - максимальное значение высоты;
- sizePixel - размер одного пикселя в реальности.
### Считывание высот
Для получения высот по фрагменту изображения надо вызвать метод parsing со следующими параметрами:
- fileMap - путь до файла с фрагментом краты;
- output - путь до файла, в который будут сохранены считанные данные.
### Данные
Сохраненные данные представляют собой двумерный маасив считанных пикселей,
хранящихся в файле и разделенные по строкам и через запятую.
<br>
Об каждом пикселе хранится 2 числа: высота и максимальный угол наклона.
#### Высота
Перед обработкой карты, сохраняется массив цветов градиента.
После чего, цвет пикселя сравнивается с массивом, и находится самое близкое значение
(минимальная сумма модулей разниц компонентов RGB).
Затем высчитывается высота данного элемента массива и добавляется/вычитается относительное отклонение.
#### Угол
После подсчета всех высот дополнительно высчитывается максимальный угол (в градусах)
для каждого пикселя относительно его 3 - 8-ми соседних пикселей.
Формула: арктангенс от перепада высот пикселей деленного на растояние между ними, умноженный на 180 и деленный на Пи (для перевода в градусы).
Раастояние задается параметром, а для пикселями по диагонали находится гипотенуза.
### Дополнительно
Карта и градиент могут иметь разную яркость, перед считыванием карты можно задать
максимальное и мнимальное значение компонентов RGB для пикселей у карты.



